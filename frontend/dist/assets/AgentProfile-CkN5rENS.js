import{u as f,r as d,j as e,c as v,ay as o,d as i,a9 as N,I as j,k as c,ab as w,ac as y,a1 as k}from"./index-BPKQ2keO.js";import{B as I}from"./BottomNav-BGePCkyK.js";import{a as C}from"./api-CVReUq8b.js";const D=()=>{const r=f(),[l,m]=d.useState({name:"Agent",phone:"",email:"",profileImage:null}),[p,x]=d.useState(!0),[g,n]=d.useState(!1);d.useEffect(()=>{u()},[]);const u=async()=>{try{x(!0);const t=await C.getMe();if(t.success&&t.data&&t.data.agent){const a=t.data.agent;m({name:a.name||"Agent",phone:a.phone||"",email:a.email||"",profileImage:a.profileImage||null}),localStorage.setItem("agent_data",JSON.stringify(a))}}catch(t){console.error("Error fetching agent data:",t);const a=localStorage.getItem("agent_data");if(a)try{const s=JSON.parse(a);m({name:s.name||"Agent",phone:s.phone||"",email:s.email||"",profileImage:s.profileImage||null})}catch(s){console.error("Error parsing stored data:",s)}}finally{x(!1)}},b=()=>{n(!1),localStorage.removeItem("dvision_agent_token"),localStorage.removeItem("agent_data"),localStorage.removeItem("user_role"),sessionStorage.clear(),r(o.LOGIN,{replace:!0})},h=[{id:"personal-info",label:"Personal Information",icon:i,onClick:()=>r(o.AGENT_PERSONAL_INFORMATION)},{id:"bank-details",label:"Bank Details",icon:j,onClick:()=>r(o.AGENT_BANK_DETAILS)},{id:"about-us",label:"About Us",icon:c,onClick:()=>r("/teacher/content/about-us")},{id:"privacy",label:"Privacy Policy",icon:w,onClick:()=>r("/teacher/content/privacy-policy")},{id:"terms",label:"Terms & Conditions",icon:c,onClick:()=>r("/teacher/content/terms-and-conditions")},{id:"logout",label:"Log Out",icon:y,onClick:()=>n(!0),isDestructive:!0}];return e.jsxs("div",{className:"min-h-screen bg-white pb-20 sm:pb-24",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-[var(--app-dark-blue)] text-white relative",style:{borderRadius:"0 0 50% 50% / 0 0 30px 30px"},children:e.jsx("div",{className:"px-3 sm:px-4 md:px-6 pt-3 sm:pt-4 md:pt-5 pb-4 sm:pb-5 md:pb-6",children:e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[e.jsx("button",{onClick:()=>r(o.AGENT_DASHBOARD),className:"p-1.5 sm:p-2 text-white hover:bg-white/10 rounded-full transition-colors",children:e.jsx(v,{className:"text-lg sm:text-xl md:text-2xl"})}),e.jsx("h1",{className:"text-sm sm:text-base md:text-lg lg:text-xl font-bold",children:"Your Profile"})]})})}),e.jsx("div",{className:"px-3 sm:px-4 md:px-6 mt-3 sm:mt-4 md:mt-5",children:e.jsxs("div",{className:"relative bg-gradient-to-br from-white via-white to-gray-50/30 rounded-lg sm:rounded-xl md:rounded-2xl p-3 sm:p-4 md:p-5 mb-3 sm:mb-4 md:mb-5 border border-gray-200/80",style:{boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06), 0 0 0 1px rgba(0, 0, 0, 0.05), 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05), inset 0 1px 0 0 rgba(255, 255, 255, 0.8)"},children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 h-0.5 bg-gradient-to-r from-transparent via-white/60 to-transparent rounded-t-lg sm:rounded-t-xl md:rounded-t-2xl pointer-events-none z-10"}),e.jsxs("div",{className:"flex flex-col items-center relative z-0",children:[e.jsxs("div",{className:"relative flex-shrink-0 mb-2 sm:mb-3",children:[l.profileImage?e.jsxs("div",{className:"w-16 h-16 sm:w-20 sm:h-20 md:w-24 md:h-24 rounded-full overflow-hidden border-2 sm:border-4 border-[var(--app-dark-blue)] shadow-xl",children:[e.jsx("img",{src:l.profileImage,alt:"Profile",className:"w-full h-full object-cover",onError:t=>{t.target.style.display="none",t.target.nextSibling.style.display="flex"}}),e.jsx("div",{className:"w-full h-full rounded-full bg-gradient-to-br from-[var(--app-dark-blue)] to-blue-600 flex items-center justify-center hidden",children:e.jsx(i,{className:"text-white text-xl sm:text-2xl md:text-3xl"})})]}):e.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 md:w-24 md:h-24 rounded-full bg-gradient-to-br from-[var(--app-dark-blue)] to-blue-600 flex items-center justify-center shadow-xl",children:e.jsx(i,{className:"text-white text-xl sm:text-2xl md:text-3xl"})}),e.jsx("button",{onClick:()=>r(o.AGENT_EDIT_PROFILE),className:"absolute bottom-0 right-0 bg-[var(--app-dark-blue)] text-white p-1.5 sm:p-2 rounded-full cursor-pointer hover:opacity-90 transition-all shadow-lg border-2 border-white",children:e.jsx(N,{className:"text-xs sm:text-sm"})})]}),e.jsx("h2",{className:"text-sm sm:text-base md:text-lg font-bold text-gray-800 text-center",children:p?"Loading...":l.name}),e.jsx("div",{className:"w-full mt-3 sm:mt-4",children:e.jsx("div",{className:"text-center",children:e.jsx("p",{className:"text-sm sm:text-base font-medium text-[var(--app-black)]",children:l.email||"Not provided"})})})]})]})}),e.jsx("div",{className:"px-3 sm:px-4 md:px-6",children:e.jsx("div",{className:"bg-white rounded-lg sm:rounded-xl md:rounded-2xl shadow-lg border border-gray-200 overflow-hidden",children:h.map((t,a)=>{const s=t.icon;return e.jsxs("button",{onClick:t.onClick,className:`group w-full flex items-center justify-between py-2.5 sm:py-3 md:py-3.5 px-3 sm:px-4 md:px-5 border-b border-gray-100 last:border-b-0 text-left hover:bg-gradient-to-r hover:from-gray-50 hover:to-white transition-all duration-300 ${t.isDestructive?"text-red-600 hover:text-red-700":"text-gray-800"}`,children:[e.jsxs("div",{className:"flex items-center gap-2.5 sm:gap-3 md:gap-4",children:[e.jsx("div",{className:`p-1.5 sm:p-2 md:p-2.5 rounded-lg sm:rounded-xl transition-all duration-300 group-hover:scale-110 ${t.isDestructive?"bg-gradient-to-br from-red-50 to-red-100/50 group-hover:from-red-100 group-hover:to-red-50":"bg-gradient-to-br from-[var(--app-dark-blue)]/10 to-blue-50/50 group-hover:from-[var(--app-dark-blue)]/20 group-hover:to-blue-50"}`,children:e.jsx(s,{className:`text-base sm:text-lg md:text-xl transition-transform duration-300 ${t.isDestructive?"text-red-600":"text-[var(--app-dark-blue)]"}`})}),e.jsx("span",{className:"font-bold text-xs sm:text-sm md:text-base",children:t.label})]}),e.jsx(k,{className:`text-base sm:text-lg md:text-xl transition-transform duration-300 group-hover:translate-x-1 ${t.isDestructive?"text-red-600":"text-gray-400"}`})]},t.id)})})}),g&&e.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 px-4",onClick:()=>n(!1),children:e.jsxs("div",{className:"bg-white rounded-xl sm:rounded-2xl shadow-2xl max-w-sm w-full p-4 sm:p-5 md:p-6 relative overflow-hidden",onClick:t=>t.stopPropagation(),children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-red-500 to-red-600"}),e.jsx("h3",{className:"text-base sm:text-lg md:text-xl font-bold text-gray-800 mb-1.5 sm:mb-2",children:"Logout"}),e.jsx("p",{className:"text-gray-600 mb-4 sm:mb-5 md:mb-6 text-xs sm:text-sm md:text-base",children:"Are you sure you want to logout?"}),e.jsxs("div",{className:"flex gap-2 sm:gap-3",children:[e.jsx("button",{onClick:()=>n(!1),className:"flex-1 px-3 sm:px-4 py-2 sm:py-2.5 md:py-3 bg-white border-2 border-gray-300 text-gray-700 rounded-lg sm:rounded-xl font-bold hover:bg-gray-50 hover:border-gray-400 transition-all shadow-sm hover:shadow-md text-xs sm:text-sm md:text-base",children:"Cancel"}),e.jsxs("button",{onClick:b,className:"group relative overflow-hidden flex-1 px-3 sm:px-4 py-2 sm:py-2.5 md:py-3 bg-gradient-to-r from-red-500 via-red-500 to-red-600 hover:from-red-600 hover:via-red-500 hover:to-red-500 text-white rounded-lg sm:rounded-xl font-bold transition-all duration-300 shadow-lg hover:shadow-xl text-xs sm:text-sm md:text-base",children:[e.jsx("span",{className:"relative z-10",children:"Logout"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-700"})]})]})]})}),e.jsx(I,{})]})};export{D as default};
