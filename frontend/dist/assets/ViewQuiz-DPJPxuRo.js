import{u,q as g,r as m,j as e}from"./index-BPKQ2keO.js";import{q as h}from"./api-BdrZRD_7.js";const j=()=>{const i=u(),{id:l}=g(),[t,x]=m.useState(null),[c,d]=m.useState(!0);m.useEffect(()=>{p()},[l]);const p=async()=>{try{d(!0);const s=await h.getById(l);s.success&&s.data.quiz?x(s.data.quiz):(alert("Quiz not found"),i("/admin/quizzes"))}catch(s){console.error("Error fetching quiz:",s),alert("Failed to load quiz details. Please try again."),i("/admin/quizzes")}finally{d(!1)}};if(c)return e.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:e.jsx("p",{className:"text-gray-500",children:"Loading quiz details..."})});if(!t)return null;const o=s=>{if(!s)return!1;const a=new Date,r=new Date(s);return a>=r};return e.jsx("div",{className:"min-h-screen bg-gray-100",children:e.jsxs("div",{className:"px-2 sm:px-3 md:px-4 lg:px-6 xl:px-8 pt-3 sm:pt-4 md:pt-5 lg:pt-6",children:[e.jsx("div",{className:"px-2 sm:px-3 md:px-4 lg:px-6 xl:px-8 pb-0",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4",children:[e.jsx("div",{children:e.jsx("h1",{className:"text-base sm:text-lg md:text-xl lg:text-2xl font-bold text-gray-900",children:"Quiz Details"})}),e.jsxs("button",{onClick:()=>i("/admin/quizzes"),className:"px-3 sm:px-4 md:px-5 py-2 sm:py-2.5 bg-gray-200 hover:bg-gray-300 text-gray-700 rounded-lg sm:rounded-xl font-semibold text-xs sm:text-sm md:text-base transition-all duration-200 flex items-center justify-center space-x-2",children:[e.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),e.jsx("span",{children:"Back"})]})]})}),e.jsx("div",{className:"mt-3 sm:mt-4 md:mt-5 lg:mt-6",children:e.jsxs("div",{className:"bg-white rounded-lg sm:rounded-xl md:rounded-2xl shadow-lg border border-gray-100 overflow-hidden",children:[e.jsx("div",{className:"p-4 sm:p-6 md:p-8 border-b border-gray-200",children:e.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4",children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg sm:text-xl md:text-2xl font-bold text-gray-900 mb-2",children:t.name}),e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 flex-wrap",children:[t.classNumber&&e.jsxs("span",{className:"px-2 sm:px-3 py-1 rounded-md text-xs sm:text-sm font-medium bg-dvision-blue/10 text-dvision-blue",children:["Class ",t.classNumber]}),t.board&&e.jsx("span",{className:"px-2 sm:px-3 py-1 rounded-md text-xs sm:text-sm font-medium bg-purple-100 text-purple-700",children:t.board}),e.jsx("span",{className:"px-2 sm:px-3 py-1 rounded-md text-xs sm:text-sm font-medium bg-green-100 text-green-700",children:t.subjectId?.name||"N/A"}),o(t.deadline)?e.jsx("span",{className:"px-2 sm:px-3 py-1 rounded-full text-xs sm:text-sm font-semibold bg-blue-100 text-blue-700",children:"Completed"}):e.jsx("span",{className:`px-2 sm:px-3 py-1 rounded-full text-xs sm:text-sm font-semibold ${t.isActive?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:t.isActive?"Active":"Inactive"}),t.deadline&&(()=>{const s=new Date(t.deadline),a=s.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),r=s.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0});return e.jsxs("span",{className:"px-2 sm:px-3 py-1 rounded-md text-xs sm:text-sm font-medium bg-orange-100 text-orange-700",children:["Deadline: ",a," ",r]})})()]})]})})}),o(t.deadline)&&e.jsx("div",{className:"p-4 sm:p-6 md:p-8 border-b border-gray-200",children:e.jsxs("button",{onClick:()=>i(`/admin/quizzes/${l}/results`),className:"px-4 sm:px-6 py-2 sm:py-3 bg-gradient-to-r from-[#1e3a5f] to-[#2a4a6f] hover:from-[#2a4a6f] hover:to-[#1e3a5f] text-white rounded-lg font-semibold text-xs sm:text-sm transition-all duration-200 shadow-md hover:shadow-lg flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"View Results"]})}),e.jsx("div",{className:"p-4 sm:p-6 md:p-8",children:t.questions&&t.questions.length>0?e.jsxs("div",{children:[e.jsxs("h3",{className:"text-sm sm:text-base md:text-lg font-bold text-gray-900 mb-3 sm:mb-4",children:["Questions (",t.questions.length,")"]}),e.jsx("div",{className:"space-y-4 sm:space-y-5",children:t.questions.map((s,a)=>e.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 sm:p-5 border-2 border-gray-200",children:[e.jsxs("div",{className:"mb-3",children:[e.jsxs("p",{className:"text-xs sm:text-sm font-semibold text-gray-700 mb-1",children:["Question ",a+1,":"]}),e.jsx("p",{className:"text-sm sm:text-base text-gray-900 font-medium",children:s.question})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-xs sm:text-sm font-semibold text-gray-700 mb-2",children:"Options:"}),s.options&&s.options.map((r,n)=>e.jsxs("div",{className:`flex items-center gap-2 sm:gap-3 p-2 sm:p-3 rounded-lg ${s.correctAnswer===n?"bg-green-100 border-2 border-green-500":"bg-white border-2 border-gray-200"}`,children:[s.correctAnswer===n&&e.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 text-green-600 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),e.jsxs("span",{className:`text-xs sm:text-sm ${s.correctAnswer===n?"text-green-800 font-semibold":"text-gray-700"}`,children:[String.fromCharCode(65+n),". ",r]})]},n))]})]},a))})]}):e.jsx("div",{className:"text-center py-8",children:e.jsx("p",{className:"text-gray-500 text-sm",children:"No questions available"})})})]})})]})})};export{j as default};
