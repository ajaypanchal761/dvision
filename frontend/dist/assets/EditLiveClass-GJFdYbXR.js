import{u as C,q as S,r as c,j as e,c as E,aC as F,aD as D,i as I,F as m,aE as z,aF as B,m as v,aG as O}from"./index-BPKQ2keO.js";import{B as R}from"./BottomNav-BGePCkyK.js";const A=()=>{const b=C(),{classId:d}=S(),[a,x]=c.useState({sessionTitle:"",description:"",courseType:"",class:"",subject:"",startTime:"",endTime:"",thumbnail:null}),[p,o]=c.useState(!1),[h,i]=c.useState(!1),[f,n]=c.useState(!1),j=["RBSE","CBSE","ICSE","State Board"],y=["1st","2nd","3rd","4th","5th","6th","7th","8th","9th","10th","11th","12th"],N=["Mathematics","Science","English","Hindi","Physics","Chemistry","Biology","History","Geography"];c.useEffect(()=>{const s=localStorage.getItem("teacher_live_classes");if(s){const t=JSON.parse(s).find(u=>u.id===parseInt(d));t&&x({sessionTitle:t.sessionTitle||t.topic||"",description:t.description||"",courseType:t.courseType||"",class:t.class||"",subject:t.subject||"",startTime:t.startTime||"",endTime:t.endTime||"",thumbnail:t.thumbnail||null})}},[d]);const l=(s,r)=>{x(t=>({...t,[s]:r}))},w=s=>{const r=s.target.files[0];if(r){const t=new FileReader;t.onloadend=()=>{x(u=>({...u,thumbnail:t.result}))},t.readAsDataURL(r)}},k=s=>{s.preventDefault();const r={id:parseInt(d),sessionTitle:a.sessionTitle||a.subject,description:a.description||"",courseType:a.courseType,class:a.class,subject:a.subject,topic:a.sessionTitle||a.subject,startTime:a.startTime,endTime:a.endTime,thumbnail:a.thumbnail,instructor:"Madhusudan Gahlot",createdAt:new Date().toISOString()},t=localStorage.getItem("teacher_live_classes");if(t){const T=JSON.parse(t).map(g=>g.id===parseInt(d)?r:g);localStorage.setItem("teacher_live_classes",JSON.stringify(T))}window.dispatchEvent(new Event("liveClassesUpdated")),b("/teacher/live-classes")};return e.jsxs("div",{className:"min-h-screen bg-white pb-20",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-[var(--app-dark-blue)] text-white relative",style:{borderRadius:"0 0 50% 50% / 0 0 30px 30px"},children:e.jsx("div",{className:"px-4 sm:px-6 pt-4 sm:pt-6 pb-6 sm:pb-8",children:e.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[e.jsx("button",{onClick:()=>b("/teacher/live-classes"),className:"p-2 text-white hover:bg-white/10 rounded-full transition-colors",children:e.jsx(E,{className:"text-xl sm:text-2xl"})}),e.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold",children:"Edit Live Class"})]})})}),e.jsx("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 py-6",children:e.jsxs("form",{onSubmit:k,className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Session Title (Optional)"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2",children:e.jsx(F,{className:"text-[var(--app-dark-blue)] text-lg"})}),e.jsx("input",{type:"text",placeholder:"Enter session title",value:a.sessionTitle,onChange:s=>l("sessionTitle",s.target.value),className:"w-full pl-12 pr-4 py-3.5 border-2 border-gray-200 rounded-xl bg-white focus:outline-none focus:border-[var(--app-dark-blue)] focus:ring-2 focus:ring-[var(--app-dark-blue)]/20 transition-all text-base font-medium"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Description (Optional)"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-4 top-4",children:e.jsx(D,{className:"text-[var(--app-dark-blue)] text-lg"})}),e.jsx("textarea",{placeholder:"Enter class description",value:a.description,onChange:s=>l("description",s.target.value),rows:4,className:"w-full pl-12 pr-4 py-3.5 border-2 border-gray-200 rounded-xl bg-white focus:outline-none focus:border-[var(--app-dark-blue)] focus:ring-2 focus:ring-[var(--app-dark-blue)]/20 transition-all text-base resize-none font-medium"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Select Course Type"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2",children:e.jsx(I,{className:"text-[var(--app-dark-blue)] text-lg"})}),e.jsxs("button",{type:"button",onClick:()=>{o(!p),i(!1),n(!1)},className:"w-full pl-12 pr-12 py-3.5 border-2 border-gray-200 rounded-xl bg-white focus:outline-none focus:border-[var(--app-dark-blue)] focus:ring-2 focus:ring-[var(--app-dark-blue)]/20 transition-all text-left flex items-center justify-between font-medium",children:[e.jsx("span",{className:a.courseType?"text-gray-800":"text-gray-400",children:a.courseType||"Choose course type"}),e.jsx(m,{className:"text-gray-400"})]}),p&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>o(!1)}),e.jsx("div",{className:"absolute z-20 w-full mt-2 bg-white border-2 border-gray-200 rounded-xl shadow-xl max-h-60 overflow-y-auto",children:j.map(s=>e.jsx("button",{type:"button",onClick:()=>{l("courseType",s),o(!1)},className:"w-full px-4 py-3 text-left hover:bg-gray-50 transition-colors text-base font-medium border-b border-gray-100 last:border-b-0",children:s},s))})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Select Class"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2",children:e.jsx(z,{className:"text-[var(--app-dark-blue)] text-lg"})}),e.jsxs("button",{type:"button",onClick:()=>{i(!h),o(!1),n(!1)},className:"w-full pl-12 pr-12 py-3.5 border-2 border-gray-200 rounded-xl bg-white focus:outline-none focus:border-[var(--app-dark-blue)] focus:ring-2 focus:ring-[var(--app-dark-blue)]/20 transition-all text-left flex items-center justify-between font-medium",children:[e.jsx("span",{className:a.class?"text-gray-800":"text-gray-400",children:a.class||"Choose a class"}),e.jsx(m,{className:"text-gray-400"})]}),h&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>i(!1)}),e.jsx("div",{className:"absolute z-20 w-full mt-2 bg-white border-2 border-gray-200 rounded-xl shadow-xl max-h-60 overflow-y-auto",children:y.map(s=>e.jsx("button",{type:"button",onClick:()=>{l("class",s),i(!1)},className:"w-full px-4 py-3 text-left hover:bg-gray-50 transition-colors text-base font-medium border-b border-gray-100 last:border-b-0",children:s},s))})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Select Subject"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2",children:e.jsx(B,{className:"text-[var(--app-dark-blue)] text-lg"})}),e.jsxs("button",{type:"button",onClick:()=>{n(!f),o(!1),i(!1)},className:"w-full pl-12 pr-12 py-3.5 border-2 border-gray-200 rounded-xl bg-white focus:outline-none focus:border-[var(--app-dark-blue)] focus:ring-2 focus:ring-[var(--app-dark-blue)]/20 transition-all text-left flex items-center justify-between font-medium",children:[e.jsx("span",{className:a.subject?"text-gray-800":"text-gray-400",children:a.subject||"Choose a subject"}),e.jsx(m,{className:"text-gray-400"})]}),f&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>n(!1)}),e.jsx("div",{className:"absolute z-20 w-full mt-2 bg-white border-2 border-gray-200 rounded-xl shadow-xl max-h-60 overflow-y-auto",children:N.map(s=>e.jsx("button",{type:"button",onClick:()=>{l("subject",s),n(!1)},className:"w-full px-4 py-3 text-left hover:bg-gray-50 transition-colors text-base font-medium border-b border-gray-100 last:border-b-0",children:s},s))})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Start Time"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2",children:e.jsx(v,{className:"text-[var(--app-dark-blue)] text-lg"})}),e.jsx("input",{type:"time",value:a.startTime,onChange:s=>l("startTime",s.target.value),className:"w-full pl-12 pr-4 py-3.5 border-2 border-gray-200 rounded-xl bg-white focus:outline-none focus:border-[var(--app-dark-blue)] focus:ring-2 focus:ring-[var(--app-dark-blue)]/20 transition-all text-base font-medium"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"End Time"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2",children:e.jsx(v,{className:"text-[var(--app-dark-blue)] text-lg"})}),e.jsx("input",{type:"time",value:a.endTime,onChange:s=>l("endTime",s.target.value),className:"w-full pl-12 pr-4 py-3.5 border-2 border-gray-200 rounded-xl bg-white focus:outline-none focus:border-[var(--app-dark-blue)] focus:ring-2 focus:ring-[var(--app-dark-blue)]/20 transition-all text-base font-medium"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Session Thumbnail (Optional)"}),e.jsxs("label",{className:"block w-full border-2 border-dashed border-gray-300 rounded-xl p-8 text-center cursor-pointer hover:border-[var(--app-dark-blue)] transition-colors",children:[a.thumbnail?e.jsxs("div",{className:"space-y-3",children:[e.jsx("img",{src:a.thumbnail,alt:"Thumbnail preview",className:"max-w-full h-40 mx-auto rounded-xl object-cover"}),e.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Tap to change thumbnail"})]}):e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"bg-gray-100 rounded-full p-4",children:e.jsx(O,{className:"text-gray-400 text-4xl"})})}),e.jsx("p",{className:"text-gray-700 text-base font-medium",children:"Tap to add thumbnail"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Recommended: 400x300px"})]}),e.jsx("input",{type:"file",accept:"image/*",onChange:w,className:"hidden"})]})]}),e.jsx("button",{type:"submit",className:"w-full bg-[var(--app-dark-blue)] text-white py-4 rounded-xl font-bold text-base hover:bg-[var(--app-dark-blue)]/90 transition-colors shadow-lg",children:"Save Changes"})]})}),e.jsx(R,{})]})};export{A as default};
