import{u as g,r as d,j as e}from"./index-BPKQ2keO.js";import{c as b}from"./api-BdrZRD_7.js";const v=()=>{const n=g(),[s,r]=d.useState({type:"regular",class:"",board:"",name:"",description:"",classCode:"",isActive:!0}),[t,c]=d.useState(!1),[m,i]=d.useState(""),x=["1","2","3","4","5","6","7","8","9","10","11","12"],u=["RBSE","CBSE"],p=async a=>{a.preventDefault(),i(""),c(!0);const l={type:s.type,classCode:s.classCode.trim().toUpperCase(),isActive:s.isActive};s.type==="regular"?(l.class=parseInt(s.class),l.board=s.board.trim()):(l.name=s.name.trim(),s.description&&(l.description=s.description.trim())),console.log("Submitting class data:",l);try{const o=await b.create(l);console.log("API Response:",o),o.success?n("/admin/classes"):i(o.message||"Failed to create class")}catch(o){console.error("Error creating class:",o),i(o.message||"Failed to create class. Please try again.")}finally{c(!1)}};return e.jsx("div",{className:"min-h-screen bg-white",children:e.jsxs("div",{className:"px-4 sm:px-6 lg:px-8 pt-3 sm:pt-4 md:pt-5 lg:pt-6",children:[e.jsx("div",{className:"pb-0",children:e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mb-2 sm:mb-3",children:[e.jsx("button",{onClick:()=>n("/admin/classes"),className:"text-[#1e3a5f] hover:text-[#2a4a6f] transition-colors p-1",children:e.jsx("svg",{className:"w-5 h-5 sm:w-6 sm:h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),e.jsx("h1",{className:"text-base sm:text-lg md:text-xl lg:text-2xl font-bold text-[#1e3a5f]",children:"Add New Class"})]})}),m&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-3 py-2 rounded-lg text-xs sm:text-sm mt-2",children:m}),e.jsx("div",{className:"mt-2 sm:mt-3",children:e.jsxs("form",{onSubmit:p,className:"bg-white rounded-lg shadow-md border border-gray-200 p-3 sm:p-4 md:p-5 space-y-3 sm:space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsxs("label",{className:"block text-xs sm:text-sm font-semibold text-gray-700 mb-1",children:["Class Type ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{required:!0,value:s.type,onChange:a=>r({...s,type:a.target.value,class:"",board:"",name:"",description:""}),className:"w-full px-3 py-2 text-xs sm:text-sm border-2 border-gray-200 rounded-lg focus:ring-2 focus:ring-[#1e3a5f] focus:border-[#1e3a5f] outline-none transition-all duration-200 bg-white",disabled:t,children:[e.jsx("option",{value:"regular",children:"Regular Class (Board-based)"}),e.jsx("option",{value:"preparation",children:"Preparation Class (NDA, NEET, JEE, etc.)"})]})]}),s.type==="regular"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs sm:text-sm font-semibold text-gray-700 mb-1",children:["Class ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{required:!0,value:s.class,onChange:a=>r({...s,class:a.target.value,board:""}),className:"w-full px-3 py-2 text-xs sm:text-sm border-2 border-gray-200 rounded-lg focus:ring-2 focus:ring-[#1e3a5f] focus:border-[#1e3a5f] outline-none transition-all duration-200 bg-white",disabled:t,children:[e.jsx("option",{value:"",children:"Select Class"}),x.map(a=>e.jsxs("option",{value:a,children:["Class ",a]},a))]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs sm:text-sm font-semibold text-gray-700 mb-1",children:["Board ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{required:!0,value:s.board,onChange:a=>r({...s,board:a.target.value}),className:"w-full px-3 py-2 text-xs sm:text-sm border-2 border-gray-200 rounded-lg focus:ring-2 focus:ring-[#1e3a5f] focus:border-[#1e3a5f] outline-none transition-all duration-200 bg-white",disabled:t,children:[e.jsx("option",{value:"",children:"Select Board"}),u.map(a=>e.jsx("option",{value:a,children:a},a))]})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsxs("label",{className:"block text-xs sm:text-sm font-semibold text-gray-700 mb-1",children:["Preparation Class Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",required:!0,value:s.name,onChange:a=>r({...s,name:a.target.value}),className:"w-full px-3 py-2 text-xs sm:text-sm border-2 border-gray-200 rounded-lg focus:ring-2 focus:ring-[#1e3a5f] focus:border-[#1e3a5f] outline-none transition-all duration-200",placeholder:"e.g., NDA Special, NEET Prep, JEE Advanced",disabled:t})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsxs("label",{className:"block text-xs sm:text-sm font-semibold text-gray-700 mb-1",children:["Description ",e.jsx("span",{className:"text-gray-500 text-xs",children:"(Optional)"})]}),e.jsx("textarea",{value:s.description,onChange:a=>r({...s,description:a.target.value}),rows:"3",className:"w-full px-3 py-2 text-xs sm:text-sm border-2 border-gray-200 rounded-lg focus:ring-2 focus:ring-[#1e3a5f] focus:border-[#1e3a5f] outline-none transition-all duration-200",placeholder:"Enter description for this preparation class",disabled:t})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs sm:text-sm font-semibold text-gray-700 mb-1",children:["Class Code ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",required:!0,value:s.classCode,onChange:a=>r({...s,classCode:a.target.value.toUpperCase()}),className:"w-full px-3 py-2 text-xs sm:text-sm border-2 border-gray-200 rounded-lg focus:ring-2 focus:ring-[#1e3a5f] focus:border-[#1e3a5f] outline-none transition-all duration-200 font-mono bg-gray-50 placeholder:text-xs",placeholder:"Enter class code (e.g., CLASS12CBSE)",disabled:t})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs sm:text-sm font-semibold text-gray-700 mb-1",children:["Status ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{required:!0,value:s.isActive?"Active":"Inactive",onChange:a=>r({...s,isActive:a.target.value==="Active"}),className:"w-full px-3 py-2 text-xs sm:text-sm border-2 border-gray-200 rounded-lg focus:ring-2 focus:ring-[#1e3a5f] focus:border-[#1e3a5f] outline-none transition-all duration-200 bg-white",disabled:t,children:[e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center justify-end gap-2 sm:gap-3 pt-3 sm:pt-4",children:[e.jsx("button",{type:"button",onClick:()=>n("/admin/classes"),disabled:t,className:"w-full sm:w-auto px-4 sm:px-6 py-2 text-xs sm:text-sm border-2 border-gray-300 text-gray-700 rounded-lg font-semibold hover:bg-gray-50 transition-all duration-200 disabled:opacity-50",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:t,className:"w-full sm:w-auto px-4 sm:px-6 py-2 text-xs sm:text-sm bg-gradient-to-r from-[#1e3a5f] to-[#2a4a6f] hover:from-[#2a4a6f] hover:to-[#1e3a5f] text-white rounded-lg font-semibold transition-all duration-200 shadow-md hover:shadow-lg disabled:opacity-50",children:t?"Creating...":"Add Class"})]})]})})]})})};export{v as default};
