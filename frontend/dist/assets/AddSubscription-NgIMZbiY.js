import{u as Z,r as d,j as e}from"./index-BPKQ2keO.js";import{b as E}from"./api-BdrZRD_7.js";const se=()=>{const B=Z(),[n,m]=d.useState(1),[c,A]=d.useState(""),[x,N]=d.useState(""),[P,k]=d.useState([]),[h,C]=d.useState(""),[F,b]=d.useState([]),[u,f]=d.useState([]),[L,y]=d.useState({}),[M,w]=d.useState(!1),[_,l]=d.useState(""),[S,p]=d.useState([{duration:"monthly",name:"",price:"",originalPrice:"",description:"",features:[],validityDays:null},{duration:"quarterly",name:"",price:"",originalPrice:"",description:"",features:[],validityDays:null},{duration:"half_yearly",name:"",price:"",originalPrice:"",description:"",features:[],validityDays:null},{duration:"yearly",name:"",price:"",originalPrice:"",description:"",features:[],validityDays:null},{duration:"demo",name:"",price:"",originalPrice:"",description:"",features:[],validityDays:7}]),[T,$]=d.useState(["","","","",""]),[R,q]=d.useState(!1),D=d.useRef({});d.useEffect(()=>{x&&c==="regular"&&n===3&&z()},[x,c,n]),d.useEffect(()=>{c==="preparation"&&n===2&&H()},[c,n]);const z=async()=>{try{w(!0),l("");const s=await E.getClassesByBoard(x);if(s.success&&s.data?.classes){b(s.data.classes);const a={};s.data.classes.forEach(t=>{t.missingDurations&&t.missingDurations.length>0&&(a[t.class]=t.missingDurations)}),y(a)}else l("Failed to load classes")}catch(s){l(s.message||"Failed to load classes"),console.error("Error fetching classes:",s)}finally{w(!1)}},H=async()=>{try{w(!0),l("");const s=await E.getPreparationClasses();if(s.success&&s.data?.classes){k(s.data.classes);const a={};s.data.classes.forEach(t=>{t.missingDurations&&t.missingDurations.length>0&&(a[t._id]=t.missingDurations)}),y(a)}else l("Failed to load preparation classes")}catch(s){l(s.message||"Failed to load preparation classes"),console.error("Error fetching preparation classes:",s)}finally{w(!1)}},W=s=>{A(s),N(""),C(""),f([]),b([]),k([]),y({}),m(2)},O=s=>{N(s),f([]),b([]),m(3)},J=s=>{C(s),m(4)},K=s=>{f(a=>a.includes(s)?a.filter(t=>t!==s):[...a,s].sort((t,r)=>t-r))},j=(s,a,t)=>{p(r=>{const o=[...r];return o[s]={...o[s],[a]:t},o})},V=(s,a)=>{$(t=>{const r=[...t];return r[s]=a,r})},U=s=>{if(D.current[s])return;const a=T[s];if(a&&a.trim()){const t=a.trim();D.current[s]=!0,p(r=>{const o=[...r],i=o[s];return i.features.some(X=>X.trim()===t)||(o[s]={...i,features:[...i.features,t]}),o}),$(r=>{const o=[...r];return o[s]="",o}),setTimeout(()=>{D.current[s]=!1},100)}},Y=(s,a)=>{p(t=>{const r=[...t];return r[s].features=r[s].features.filter((o,i)=>i!==a),r})},G=()=>{if(n===1){if(!c){l("Please select a plan type");return}m(2)}else if(n===2)if(c==="regular"){if(!x){l("Please select a board");return}m(3)}else{if(!h){l("Please select a preparation class");return}const s=["monthly","quarterly","half_yearly","yearly","demo"],a=L[h]||s;p(t=>t.map(r=>({...r,isAvailable:a.includes(r.duration)}))),m(4)}else if(n===3){if(u.length===0){l("Please select at least one class");return}l("");const s=["monthly","quarterly","half_yearly","yearly","demo"],a=new Set;u.forEach(t=>{(L[t]||s).forEach(o=>a.add(o))}),p(t=>t.map(r=>({...r,isAvailable:a.has(r.duration)}))),m(4)}},v=()=>{n===2?(m(1),A(""),N(""),C(""),f([]),b([]),k([]),y({}),p([{duration:"monthly",name:"",price:"",originalPrice:"",description:"",features:[],validityDays:null},{duration:"quarterly",name:"",price:"",originalPrice:"",description:"",features:[],validityDays:null},{duration:"half_yearly",name:"",price:"",originalPrice:"",description:"",features:[],validityDays:null},{duration:"yearly",name:"",price:"",originalPrice:"",description:"",features:[],validityDays:null},{duration:"demo",name:"",price:"",originalPrice:"",description:"",features:[],validityDays:7}])):n===3?(m(2),N(""),f([]),b([]),y({})):n===4&&(c==="regular"?m(3):(m(2),C("")))},Q=async s=>{s.preventDefault(),l("");const a=S.filter(t=>t.isAvailable!==!1);if(a.length===0){l("No plans available to create. All plans already exist for selected classes.");return}for(let t=0;t<a.length;t++){const r=a[t];if(!r.name){l(`Please provide plan name for ${r.duration} plan`);return}if(r.duration!=="demo"){if(!r.price){l(`Please provide price for ${r.duration} plan`);return}if(parseFloat(r.price)<=0){l(`Price must be greater than 0 for ${r.duration} plan`);return}}else if(r.price&&parseFloat(r.price)<0){l("Price cannot be negative for demo plan");return}if(r.duration==="demo"&&(!r.validityDays||parseInt(r.validityDays)<1)){l("Please provide validity days (must be at least 1) for demo plan");return}}q(!0);try{const t=a.map(i=>{if(!i.name||!i.price)return null;const g={type:c,name:i.name,duration:i.duration,price:i.duration==="demo"?i.price?parseFloat(i.price):0:parseFloat(i.price),originalPrice:i.originalPrice?parseFloat(i.originalPrice):i.duration==="demo"?i.price?parseFloat(i.price):0:parseFloat(i.price),description:i.description||"",features:i.features||[],isActive:!0};return i.duration==="demo"&&i.validityDays&&(g.validityDays=parseInt(i.validityDays)),c==="regular"?(g.board=x,g.classes=u):g.classId=h,E.create(g)}),o=(await Promise.all(t.filter(i=>i!==null))).find(i=>!i.success);if(o){l(o.message||"Failed to create some subscription plans");return}B("/admin/subscriptions")}catch(t){l(t.message||"Failed to create subscription plans"),console.error("Error creating subscription plans:",t)}finally{q(!1)}};return e.jsx("div",{className:"min-h-screen bg-white",children:e.jsxs("div",{className:"px-4 sm:px-6 lg:px-8 pt-2 sm:pt-3",children:[e.jsx("div",{className:"pb-1 sm:pb-2",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>B("/admin/subscriptions"),className:"p-1 text-[#1e3a5f] hover:text-[#2a4a6f] transition-all duration-200 flex items-center justify-center",title:"Back",children:e.jsx("svg",{className:"w-5 h-5 sm:w-6 sm:h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-sm sm:text-base md:text-lg font-bold text-[#1e3a5f]",children:"Add Subscription Plans"}),e.jsxs("p",{className:"text-xs text-[#1e3a5f]/70 mt-0.5",children:["Step ",n," of ",4,": ",n===1?"Select Type":n===2?c==="regular"?"Select Board":"Select Preparation Class":n===3?"Select Classes":"Create Plans"]})]})]})}),_&&e.jsx("div",{className:"mt-2",children:e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-3 py-2 rounded-lg text-xs sm:text-sm",children:_})}),n===1&&e.jsx("div",{className:"mt-2 sm:mt-3",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg border border-gray-200 p-3 sm:p-4 md:p-5",children:[e.jsx("h2",{className:"text-lg sm:text-xl md:text-2xl font-bold text-gray-900 mb-4 sm:mb-6",children:"Select Plan Type"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:[e.jsx("button",{onClick:()=>W("regular"),className:"p-4 sm:p-5 border-2 border-gray-200 rounded-lg hover:border-[#1e3a5f] hover:bg-blue-50 transition-all duration-200 text-left",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-2",children:"Regular Plans"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"Board-based plans (CBSE, RBSE)"})]}),e.jsx("svg",{className:"w-5 h-5 sm:w-6 sm:h-6 text-[#1e3a5f]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})}),e.jsx("button",{onClick:()=>W("preparation"),className:"p-4 sm:p-5 border-2 border-gray-200 rounded-lg hover:border-[#1e3a5f] hover:bg-blue-50 transition-all duration-200 text-left",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-2",children:"Preparation Plans"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"NDA, NEET, JEE, etc."})]}),e.jsx("svg",{className:"w-5 h-5 sm:w-6 sm:h-6 text-[#1e3a5f]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})})]})]})}),n===2&&c==="regular"&&e.jsx("div",{className:"mt-2 sm:mt-3",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg border border-gray-200 p-3 sm:p-4 md:p-5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4 sm:mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg sm:text-xl md:text-2xl font-bold text-gray-900",children:"Select Board"}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mt-1",children:"Choose a board to create subscription plans"})]}),e.jsx("button",{onClick:v,className:"px-3 sm:px-4 py-2 text-sm sm:text-base text-gray-600 hover:text-gray-900",children:"Change Type"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:[e.jsx("button",{onClick:()=>O("CBSE"),className:"p-4 sm:p-5 border-2 border-gray-200 rounded-lg hover:border-[#1e3a5f] hover:bg-blue-50 transition-all duration-200 text-left",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-2",children:"CBSE"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"Central Board of Secondary Education"})]}),e.jsx("svg",{className:"w-5 h-5 sm:w-6 sm:h-6 text-[#1e3a5f]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})}),e.jsx("button",{onClick:()=>O("RBSE"),className:"p-4 sm:p-5 border-2 border-gray-200 rounded-lg hover:border-[#1e3a5f] hover:bg-blue-50 transition-all duration-200 text-left",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-2",children:"RBSE"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"Rajasthan Board of Secondary Education"})]}),e.jsx("svg",{className:"w-5 h-5 sm:w-6 sm:h-6 text-[#1e3a5f]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})})]})]})}),n===2&&c==="preparation"&&e.jsx("div",{className:"mt-2 sm:mt-3",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg border border-gray-200 p-3 sm:p-4 md:p-5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4 sm:mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg sm:text-xl md:text-2xl font-bold text-gray-900",children:"Select Preparation Class"}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mt-1",children:"Select a preparation class to create subscription plans"})]}),e.jsx("button",{onClick:v,className:"px-3 sm:px-4 py-2 text-sm sm:text-base text-gray-600 hover:text-gray-900",children:"Change Type"})]}),M?e.jsxs("div",{className:"text-center py-8 sm:py-12",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 sm:h-10 sm:w-10 border-b-2 border-[#1e3a5f]"}),e.jsx("p",{className:"mt-3 sm:mt-4 text-gray-500 text-sm sm:text-base",children:"Loading preparation classes..."})]}):P.length===0?e.jsxs("div",{className:"text-center py-8 sm:py-12",children:[e.jsx("p",{className:"text-gray-500 text-sm sm:text-base mb-2",children:"All preparation classes already have subscription plans created."}),e.jsx("p",{className:"text-gray-400 text-xs sm:text-sm",children:"Please update existing plans from the subscriptions list instead of creating new ones."})]}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3 sm:gap-4",children:P.map(s=>e.jsx("button",{onClick:()=>J(s._id),className:`p-3 sm:p-4 border-2 rounded-lg transition-all duration-200 text-left ${h===s._id?"border-[#1e3a5f] bg-blue-50 text-[#1e3a5f]":"border-gray-200 hover:border-gray-300 text-gray-700"}`,children:e.jsxs("div",{children:[e.jsx("div",{className:"text-base sm:text-lg md:text-xl font-bold",children:s.name}),e.jsx("div",{className:"text-xs sm:text-sm text-gray-500 mt-1",children:s.classCode}),s.description&&e.jsx("div",{className:"text-xs text-gray-600 mt-2",children:s.description}),s.missingDurations&&s.missingDurations.length>0&&e.jsxs("div",{className:"text-xs text-blue-600 mt-2",children:["Missing: ",s.missingDurations.map(a=>a.charAt(0).toUpperCase()+a.slice(1)).join(", ")]})]})},s._id))})]})}),n===3&&c==="regular"&&e.jsx("div",{className:"mt-2 sm:mt-3",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg border border-gray-200 p-3 sm:p-4 md:p-5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4 sm:mb-6",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-lg sm:text-xl md:text-2xl font-bold text-gray-900",children:["Select Classes for ",x]}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mt-1",children:"Select one or more classes to create subscription plans"})]}),e.jsx("button",{onClick:v,className:"px-3 sm:px-4 py-2 text-sm sm:text-base text-gray-600 hover:text-gray-900",children:"Change Board"})]}),M?e.jsxs("div",{className:"text-center py-8 sm:py-12",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 sm:h-10 sm:w-10 border-b-2 border-[#1e3a5f]"}),e.jsx("p",{className:"mt-3 sm:mt-4 text-gray-500 text-sm sm:text-base",children:"Loading classes..."})]}):F.length===0?e.jsxs("div",{className:"text-center py-8 sm:py-12",children:[e.jsxs("p",{className:"text-gray-500 text-sm sm:text-base mb-2",children:["All classes for ",x," already have subscription plans created."]}),e.jsx("p",{className:"text-gray-400 text-xs sm:text-sm",children:"Please update existing plans from the subscriptions list instead of creating new ones."})]}):e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-3 sm:gap-4",children:F.map(s=>e.jsx("button",{onClick:()=>K(s.class),className:`p-3 sm:p-4 border-2 rounded-lg transition-all duration-200 ${u.includes(s.class)?"border-[#1e3a5f] bg-blue-50 text-[#1e3a5f]":"border-gray-200 hover:border-gray-300 text-gray-700"}`,children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-lg sm:text-xl md:text-2xl font-bold",children:["Class ",s.class]}),e.jsx("div",{className:"text-xs sm:text-sm text-gray-500 mt-1",children:s.classCode}),s.missingDurations&&s.missingDurations.length>0&&e.jsxs("div",{className:"text-xs text-blue-600 mt-2",children:["Missing: ",s.missingDurations.map(a=>a.charAt(0).toUpperCase()+a.slice(1)).join(", ")]})]})},s._id))}),u.length>0&&e.jsxs("div",{className:"mt-6 sm:mt-8 pt-4 sm:pt-6 border-t border-gray-200",children:[e.jsxs("p",{className:"text-sm sm:text-base text-gray-700 mb-3 sm:mb-4",children:["Selected Classes: ",e.jsx("span",{className:"font-semibold",children:u.map(s=>`Class ${s}`).join(", ")})]}),e.jsx("button",{onClick:G,className:"px-4 sm:px-6 md:px-8 py-2.5 sm:py-3 bg-gradient-to-r from-[#1e3a5f] to-[#2a4a6f] hover:from-[#2a4a6f] hover:to-[#1e3a5f] text-white rounded-lg sm:rounded-xl font-semibold transition-all duration-200 shadow-md hover:shadow-lg text-sm sm:text-base",children:"Continue to Create Plans"})]})]})}),n===4&&e.jsx("div",{className:"mt-2 sm:mt-3",children:e.jsxs("form",{onSubmit:Q,className:"space-y-3 sm:space-y-4",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-lg border border-gray-200 p-3 sm:p-4 md:p-5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4 sm:mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg sm:text-xl md:text-2xl font-bold text-gray-900",children:"Create Subscription Plans"}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mt-1",children:c==="regular"?`${x} - Classes ${u.map(s=>s).join(", ")}`:P.find(s=>s._id===h)?.name||"Preparation Class"})]}),e.jsx("button",{type:"button",onClick:v,className:"px-3 sm:px-4 py-2 text-sm sm:text-base text-gray-600 hover:text-gray-900",children:"Change Selection"})]}),S.filter(s=>s.isAvailable!==!1).length===0?e.jsxs("div",{className:"text-center py-8 sm:py-12",children:[e.jsx("p",{className:"text-gray-500 text-sm sm:text-base mb-2",children:"All subscription plans already exist for the selected classes."}),e.jsx("p",{className:"text-gray-400 text-xs sm:text-sm",children:"Please update existing plans from the subscriptions list or select different classes."})]}):e.jsx("div",{className:"space-y-6 sm:space-y-8",children:S.map((s,a)=>s.isAvailable===!1?null:e.jsxs("div",{className:"border-2 border-gray-200 rounded-lg sm:rounded-xl p-4 sm:p-6",children:[e.jsxs("h3",{className:"text-base sm:text-lg md:text-xl font-bold text-gray-900 mb-4 sm:mb-6 capitalize",children:[s.duration==="half_yearly"?"Half Yearly":s.duration==="demo"?"Demo":s.duration.charAt(0).toUpperCase()+s.duration.slice(1)," Plan"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-5",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsxs("label",{className:"block text-xs sm:text-sm md:text-base font-semibold text-gray-700 mb-1.5 sm:mb-2",children:["Plan Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",required:!0,value:s.name,onChange:t=>j(a,"name",t.target.value),className:"w-full px-3 sm:px-4 py-2.5 sm:py-3 text-xs sm:text-sm md:text-base border-2 border-gray-200 rounded-lg sm:rounded-xl focus:ring-2 focus:ring-[#1e3a5f] focus:border-[#1e3a5f] outline-none transition-all duration-200",placeholder:`e.g., ${x} ${s.duration} Plan`})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs sm:text-sm md:text-base font-semibold text-gray-700 mb-1.5 sm:mb-2",children:["Price (₹) ",s.duration!=="demo"&&e.jsx("span",{className:"text-red-500",children:"*"}),s.duration==="demo"&&e.jsx("span",{className:"text-gray-500 text-xs",children:"(Optional - Default: Free)"})]}),e.jsx("input",{type:"number",required:s.duration!=="demo",min:"0",step:"0.01",value:s.price||"",onChange:t=>j(a,"price",t.target.value),className:"w-full px-3 sm:px-4 py-2.5 sm:py-3 text-xs sm:text-sm md:text-base border-2 border-gray-200 rounded-lg sm:rounded-xl focus:ring-2 focus:ring-[#1e3a5f] focus:border-[#1e3a5f] outline-none transition-all duration-200",placeholder:s.duration==="demo"?"Enter price (optional, default: 0)":"Enter price"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs sm:text-sm md:text-base font-semibold text-gray-700 mb-1.5 sm:mb-2",children:["Original Price (₹) ",e.jsx("span",{className:"text-gray-500 text-xs",children:"(Optional)"})]}),e.jsx("input",{type:"number",min:"0",step:"0.01",value:s.originalPrice,onChange:t=>j(a,"originalPrice",t.target.value),className:"w-full px-3 sm:px-4 py-2.5 sm:py-3 text-xs sm:text-sm md:text-base border-2 border-gray-200 rounded-lg sm:rounded-xl focus:ring-2 focus:ring-[#1e3a5f] focus:border-[#1e3a5f] outline-none transition-all duration-200",placeholder:"Enter original price (for discount)"})]}),s.duration==="demo"&&e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs sm:text-sm md:text-base font-semibold text-gray-700 mb-1.5 sm:mb-2",children:["Validity (Days) ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",required:!0,min:"1",step:"1",value:s.validityDays||"",onChange:t=>j(a,"validityDays",parseInt(t.target.value)||7),className:"w-full px-3 sm:px-4 py-2.5 sm:py-3 text-xs sm:text-sm md:text-base border-2 border-gray-200 rounded-lg sm:rounded-xl focus:ring-2 focus:ring-[#1e3a5f] focus:border-[#1e3a5f] outline-none transition-all duration-200",placeholder:"Enter validity in days (e.g., 7, 15, 30)"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsxs("label",{className:"block text-xs sm:text-sm md:text-base font-semibold text-gray-700 mb-1.5 sm:mb-2",children:["Description ",e.jsx("span",{className:"text-gray-500 text-xs",children:"(Optional)"})]}),e.jsx("textarea",{value:s.description,onChange:t=>j(a,"description",t.target.value),rows:"3",className:"w-full px-3 sm:px-4 py-2.5 sm:py-3 text-xs sm:text-sm md:text-base border-2 border-gray-200 rounded-lg sm:rounded-xl focus:ring-2 focus:ring-[#1e3a5f] focus:border-[#1e3a5f] outline-none transition-all duration-200",placeholder:"Enter plan description"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsxs("label",{className:"block text-xs sm:text-sm md:text-base font-semibold text-gray-700 mb-1.5 sm:mb-2",children:["Features ",e.jsx("span",{className:"text-gray-500 text-xs",children:"(Optional)"})]}),e.jsxs("div",{className:"space-y-2",children:[s.features.map((t,r)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"flex-1 px-3 py-2 bg-gray-50 rounded-lg text-sm",children:t}),e.jsx("button",{type:"button",onClick:()=>Y(a,r),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},r)),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:T[a]||"",onChange:t=>V(a,t.target.value),onKeyPress:t=>{t.key==="Enter"&&(t.preventDefault(),U(a))},placeholder:"Add a feature",className:"flex-1 px-3 py-2 border-2 border-gray-200 rounded-lg focus:ring-2 focus:ring-[#1e3a5f] focus:border-[#1e3a5f] outline-none text-sm"}),e.jsx("button",{type:"button",onClick:()=>U(a),className:"px-4 py-2 bg-gradient-to-r from-[#1e3a5f] to-[#2a4a6f] hover:from-[#2a4a6f] hover:to-[#1e3a5f] text-white rounded-lg text-sm",children:"Add"})]})]})]})]})]},s.duration))})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center justify-end gap-3 sm:gap-4 pt-4 sm:pt-6",children:[e.jsx("button",{type:"button",onClick:v,className:"w-full sm:w-auto px-4 sm:px-6 md:px-8 py-2.5 sm:py-3 text-xs sm:text-sm md:text-base border-2 border-gray-300 text-gray-700 rounded-lg sm:rounded-xl font-semibold hover:bg-gray-50 transition-all duration-200",children:"Back"}),e.jsx("button",{type:"submit",disabled:R,className:"w-full sm:w-auto px-4 sm:px-6 md:px-8 py-2.5 sm:py-3 text-xs sm:text-sm md:text-base bg-gradient-to-r from-[#1e3a5f] to-[#2a4a6f] hover:from-[#2a4a6f] hover:to-[#1e3a5f] text-white rounded-lg sm:rounded-xl font-semibold transition-all duration-200 shadow-md hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:R?"Creating Plans...":"Create All Plans"})]})]})})]})})};export{se as default};
