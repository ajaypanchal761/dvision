import{u as c,r as m,j as e,c as p,ay as g,d as x}from"./index-BPKQ2keO.js";import{B as h}from"./BottomNav-BGePCkyK.js";import{a as f}from"./api-CVReUq8b.js";const N=()=>{const d=c(),[a,n]=m.useState({name:"",phone:"",email:"",profileImage:null}),[r,i]=m.useState(!0);m.useEffect(()=>{o()},[]);const o=async()=>{try{i(!0);const t=await f.getMe();if(t.success&&t.data&&t.data.agent){const s=t.data.agent;n({name:s.name||"",phone:s.phone||"",email:s.email||"",profileImage:s.profileImage||null}),localStorage.setItem("agent_data",JSON.stringify(s))}}catch(t){console.error("Error fetching agent data:",t);const s=localStorage.getItem("agent_data");if(s)try{const l=JSON.parse(s);n({name:l.name||"",phone:l.phone||"",email:l.email||"",profileImage:l.profileImage||null})}catch(l){console.error("Error parsing stored data:",l)}}finally{i(!1)}};return e.jsxs("div",{className:"min-h-screen bg-white pb-20 sm:pb-24",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-[var(--app-dark-blue)] text-white relative",style:{borderRadius:"0 0 50% 50% / 0 0 30px 30px"},children:e.jsx("div",{className:"px-3 sm:px-4 md:px-6 pt-3 sm:pt-4 md:pt-5 pb-4 sm:pb-5 md:pb-6",children:e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[e.jsx("button",{onClick:()=>d(g.AGENT_PROFILE),className:"p-1.5 sm:p-2 text-white hover:bg-white/10 rounded-full transition-colors",children:e.jsx(p,{className:"text-lg sm:text-xl md:text-2xl"})}),e.jsx("h1",{className:"text-sm sm:text-base md:text-lg lg:text-xl font-bold",children:"Personal Information"})]})})}),r&&e.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[e.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 border-4 border-[var(--app-dark-blue)] border-t-transparent rounded-full animate-spin mb-4"}),e.jsx("p",{className:"text-gray-600 text-xs sm:text-sm md:text-base font-medium",children:"Loading..."})]}),!r&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col items-center py-4 sm:py-6 mt-3 sm:mt-4 md:mt-6",children:[a.profileImage?e.jsxs("div",{className:"w-20 h-20 sm:w-24 sm:h-24 md:w-28 md:h-28 rounded-full overflow-hidden border-2 sm:border-4 border-[var(--app-dark-blue)] mb-3 sm:mb-4",children:[e.jsx("img",{src:a.profileImage,alt:"Profile",className:"w-full h-full object-cover",onError:t=>{t.target.style.display="none",t.target.nextSibling.style.display="flex"}}),e.jsx("div",{className:"w-full h-full rounded-full bg-[var(--app-dark-blue)] flex items-center justify-center hidden",children:e.jsx(x,{className:"text-white text-2xl sm:text-3xl md:text-4xl"})})]}):e.jsx("div",{className:"w-20 h-20 sm:w-24 sm:h-24 md:w-28 md:h-28 rounded-full bg-[var(--app-dark-blue)] flex items-center justify-center mb-3 sm:mb-4",children:e.jsx(x,{className:"text-white text-2xl sm:text-3xl md:text-4xl"})}),e.jsx("h2",{className:"text-base sm:text-lg md:text-xl font-bold text-gray-800",children:a.name||"Agent"})]})}),!r&&e.jsx("div",{className:"max-w-2xl mx-auto px-3 sm:px-4 md:px-6 pb-6",children:e.jsxs("div",{className:"space-y-4 sm:space-y-5",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] sm:text-xs uppercase tracking-wide text-gray-500 mb-1.5 sm:mb-2 font-medium",children:"FULL NAME"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-800 font-bold",children:a.name||"Not Available"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] sm:text-xs uppercase tracking-wide text-gray-500 mb-1.5 sm:mb-2 font-medium",children:"MOBILE NUMBER"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-800 font-bold",children:a.phone||"Not Available"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] sm:text-xs uppercase tracking-wide text-gray-500 mb-1.5 sm:mb-2 font-medium",children:"EMAIL"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-800 font-bold",children:a.email||"Not Available"})]})]})}),e.jsx(h,{})]})};export{N as default};
