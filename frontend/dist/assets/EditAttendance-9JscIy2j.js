import{u as x,q as b,r as l,j as e}from"./index-BPKQ2keO.js";const v=()=>{const i=x(),{id:o}=b(),[a,n]=l.useState({teacherImage:null,teacherImagePreview:null,teacherName:"",attendanceDate:"",checkInTime:"",checkOutTime:"",createDateTime:""});l.useEffect(()=>{const r=JSON.parse(localStorage.getItem("attendance")||"[]").find(s=>s.id===parseInt(o));r?n({...r,teacherImagePreview:r.teacherImage||null}):i("/admin/attendance")},[o,i]);const c=t=>{const r=t.target.files[0];if(r){const s=new FileReader;s.onloadend=()=>{n({...a,teacherImage:r,teacherImagePreview:s.result})},s.readAsDataURL(r)}},u=t=>{t.preventDefault();const r=JSON.parse(localStorage.getItem("attendance")||"[]"),s={...a,id:parseInt(o),createDateTime:a.createDateTime};delete s.teacherImagePreview;const h=r.map(d=>d.id===parseInt(o)?s:d);localStorage.setItem("attendance",JSON.stringify(h)),window.dispatchEvent(new Event("attendanceUpdated")),i("/admin/attendance")},m=t=>t?t.split(" ").map(r=>r[0]).join("").toUpperCase().slice(0,2):"TC";return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-dvision-blue-lightestBg",children:e.jsxs("div",{className:"max-w-5xl mx-auto py-8",children:[e.jsx("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden mb-8",children:e.jsx("div",{className:"bg-gradient-to-r from-dvision-blue to-dvision-blue-dark px-8 py-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"h-12 w-12 rounded-xl bg-white/20 backdrop-blur-sm flex items-center justify-center",children:e.jsx("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold text-white",children:"Edit Attendance Record"}),e.jsx("p",{className:"text-blue-100 mt-1 text-sm",children:"Update the attendance information"})]})]}),e.jsxs("button",{onClick:()=>i("/admin/attendance"),className:"px-4 py-2 bg-white/20 hover:bg-white/30 text-white rounded-xl font-medium transition-all duration-200 flex items-center space-x-2 backdrop-blur-sm",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),e.jsx("span",{children:"Back"})]})]})})}),e.jsx("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-8",children:e.jsxs("form",{onSubmit:u,className:"space-y-8",children:[e.jsx("div",{className:"flex items-center justify-center py-6",children:e.jsxs("div",{className:"relative",children:[a.teacherImagePreview?e.jsx("img",{src:a.teacherImagePreview,alt:"Preview",className:"h-36 w-36 rounded-full object-cover border-4 border-dvision-blue shadow-lg"}):e.jsx("div",{className:"h-36 w-36 rounded-full bg-gradient-to-br from-dvision-blue to-dvision-blue-dark flex items-center justify-center border-4 border-dvision-blue shadow-lg",children:e.jsx("span",{className:"text-white font-bold text-3xl",children:m(a.teacherName)})}),e.jsxs("label",{className:"absolute bottom-0 right-0 bg-dvision-orange hover:bg-dvision-orange-dark text-white rounded-full p-4 cursor-pointer transition-all duration-200 shadow-lg hover:shadow-xl hover:scale-110",children:[e.jsxs("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]}),e.jsx("input",{type:"file",accept:"image/*",onChange:c,className:"hidden"})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Teacher Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",required:!0,value:a.teacherName,onChange:t=>n({...a,teacherName:t.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-dvision-blue focus:border-dvision-blue outline-none transition-all duration-200",placeholder:"Enter teacher name"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Attendance Date ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"date",required:!0,value:a.attendanceDate,onChange:t=>n({...a,attendanceDate:t.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-dvision-blue focus:border-dvision-blue outline-none transition-all duration-200"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Check In Time ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"time",required:!0,value:a.checkInTime,onChange:t=>n({...a,checkInTime:t.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-dvision-blue focus:border-dvision-blue outline-none transition-all duration-200"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Check Out Time ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"time",required:!0,value:a.checkOutTime,onChange:t=>n({...a,checkOutTime:t.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-dvision-blue focus:border-dvision-blue outline-none transition-all duration-200"})]})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t-2 border-gray-100",children:[e.jsx("button",{type:"button",onClick:()=>i("/admin/attendance"),className:"px-8 py-3 border-2 border-gray-300 text-gray-700 rounded-xl font-semibold hover:bg-gray-50 transition-all duration-200",children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-8 py-3 bg-gradient-to-r from-dvision-blue to-dvision-blue-dark hover:from-dvision-blue-dark hover:to-dvision-blue text-white rounded-xl font-semibold transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:"Update Attendance"})]})]})})]})})};export{v as default};
